!function(t){function e(s){if(i[s])return i[s].exports;var r=i[s]={exports:{},id:s,loaded:!1};return t[s].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){i(1)},function(t,e){AFRAME.registerComponent("auto-detect-controllers",{schema:{hand:{type:"string",default:"right"},trackedcontrols:{type:"boolean",default:!0},singlehand:{type:"string",default:"right"}},init:function(){this.el;this.rescheduleCheck=!0,this.injectedControls=!1,this.checkControllerType=this.checkControllerType.bind(this),this.rescheduleControllerTypeCheck=this.rescheduleControllerTypeCheck.bind(this),this.getGamepads=function(){return navigator.getGamepads&&navigator.getGamepads()}},update:function(){this.data,this.el},play:function(){this.rescheduleControllerTypeCheck()},pause:function(){this.rescheduleCheck=!1,this.rescheduleCheckTimeout&&(clearTimeout(this.rescheduleCheckTimeout),delete this.rescheduleCheckTimeout)},injectOculusTouch:function(){var t=this.data.trackedcontrols?"tracked-controls":"oculus-touch-controls";this.data.trackedcontrols&&(this.el.setAttribute("tracked-controls","id","Oculus Touch "+("left"===this.data.hand?"(Left)":"(Right)")),this.el.setAttribute("tracked-controls","controller","0")),this.el.setAttribute(t,"hand",this.data.hand),this.injectedControls=!0},injectVive:function(){var t=this.data.trackedcontrols?"tracked-controls":"vive-controls";this.data.trackedcontrols&&(this.el.setAttribute("tracked-controls","id","OpenVR Gamepad"),this.el.setAttribute("tracked-controls","controller","left"===this.data.hand?"1":"0")),this.el.setAttribute(t,"hand",this.data.hand),this.injectedControls=!0},injectGearVR:function(){this.data.hand===this.data.singlehand&&this.el.setAttribute("gearvr-controls","hand",this.data.hand),this.injectedControls=!0},checkControllerType:function(){if(!this.injectedControls&&this.getGamepads){var t=this.getGamepads();if(t)for(var e=0;e<t.length;e++){var i=t[e];if(i){if(0===i.id.indexOf("Oculus Touch")){this.injectOculusTouch();break}if(0===i.id.indexOf("OpenVR Gamepad")){this.injectVive();break}}}AFRAME.utils.gearVRControls&&AFRAME.utils.gearVRControls.isControllerPresent()&&this.injectGearVR()}},rescheduleControllerTypeCheck:function(){this.checkControllerType(),this.rescheduleCheck=!this.injectedControls,this.rescheduleCheck&&(this.rescheduleCheckTimeout=setTimeout(this.rescheduleControllerTypeCheck,1e3))}})}]);