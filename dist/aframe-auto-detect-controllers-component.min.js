!function(e){function t(s){if(i[s])return i[s].exports;var r=i[s]={exports:{},id:s,loaded:!1};return e[s].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t){AFRAME.registerComponent("auto-detect-controllers",{schema:{hand:{default:"right"},singlehand:{default:"right"}},init:function(){this.el;this.rescheduleCheck=!0,this.injectedControls=!1,this.getGamepads=navigator.getGamepads},update:function(){this.data,this.el;this.rescheduleControllerTypeCheck=this.rescheduleControllerTypeCheck.bind(this)},play:function(){this.rescheduleControllerTypeCheck()},pause:function(){this.rescheduleCheck=!1,this.rescheduleCheckTimeout&&cancelTimeout(this.rescheduleCheckTimeout)},injectOculusTouch:function(){this.injectedControls=!0,this.el.setAttribute("tracked-controls","id","Oculus Touch "+("left"===this.data.hand?"(Left)":"(Right)")),this.el.setAttribute("tracked-controls","controller","0"),this.el.setAttribute("tracked-controls","hand",this.data.hand)},injectVive:function(){this.injectedControls=!0,this.el.setAttribute("tracked-controls","id","OpenVR Gamepad"),this.el.setAttribute("tracked-controls","controller","left"===this.data.hand?"1":"0"),this.el.setAttribute("tracked-controls","hand",this.data.hand)},injectGearVR:function(){this.injectedControls=!0,this.data.hand===this.data.singlehand&&this.el.setAttribute("gearvr-controls","hand",this.data.hand)},checkControllerType:function(){if(!this.injectedControls&&this.getGamepads){var e=this.getGamepads();if(e)for(var t=0;t<e.length;t++){var i=e[t];if(i){if(0===i.id.indexOf("Oculus Touch")){this.injectOculusTouch();break}if(0===i.id.indexOf("OpenVR Gamepad")){this.injectVive();break}}}AFRAME.utils.gearVRControls&&AFRAME.utils.gearVRControls.isControllerPresent()&&this.injectGearVR()}},rescheduleControllerTypeCheck:function(){this.checkControllerType(),this.rescheduleCheck=!this.injectedControls,this.rescheduleCheck&&(this.rescheduleCheckTimeout=setTimeout(this.rescheduleControllerTypeCheck,1e3))}})}]);